# 局域网文件传输工具

一个简单的局域网文件传输工具，支持文件和文件夹的传输。

## 功能特点

- 支持文件和文件夹传输
- 实时显示传输进度
- 自动压缩/解压文件夹
- 可配置的传输参数
- 支持大文件传输
- 智能的缓冲区大小协商
- 文件大小限制保护

## 安装

1. 确保已安装 Python 3.6 或更高版本
2. 安装依赖包：

   ```shell
   pip install -r requirements.txt
   ```

## 使用方法

1. 运行程序：

   ```shell
   python main.py
   ```

2. 主菜单选项：

   - 1: 启动接收服务
   - 2: 发送文件
   - 3: 退出

3. 接收文件：

   - 选择选项 1 启动接收服务
   - 等待发送方连接
   - 按 Ctrl+C 可以返回主菜单

4. 发送文件：
   - 选择选项 2
   - 输入接收方的 IP 地址
   - 输入要发送的文件或文件夹路径

## 注意事项

1. 确保发送方和接收方在同一个局域网内
2. 如果有防火墙，需要允许程序使用配置的端口（默认 9999）
3. 接收的文件默认保存在 `received_files` 目录下
4. 发送文件夹时会自动压缩，接收方会自动解压
5. 超过大小限制的文件：
   - 发送方会在本地检查并拒绝
   - 接收方可以选择是否接收超限文件

## 获取接收方 IP 地址

- Windows: 运行 `ipconfig` 查看"IPv4 地址"
- Mac/Linux: 运行 `ifconfig` 或 `ip addr` 查看 inet 地址

## 常见问题

1. 端口被占用：

   - 修改 config.json 中的 port 值
   - 确保没有其他程序使用该端口

2. 连接失败：

   - 检查防火墙设置
   - 确认 IP 地址是否正确
   - 验证是否在同一局域网

3. 文件过大：
   - 修改 config.json 中的 max_size 值
   - 接收方可以选择是否接收超限文件
